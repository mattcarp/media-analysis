<br>

<div class="row ma-video-header">
    <span class="col-xs-12 col-sm-12 col-md-2"><img class="rca" src="images/rca.svg" alt="RCA Logo"></span>
    <h1 class="ma-header-title col-xs-10">Media Analysis</h1>
  </div>


<h2>please choose a media file</h2>
<br>

<div class="ma-upload__input">
  <input type="file" (change)="changeListener($event)" />
</div>
<br>
<div class="card alert-danger" [hidden]="!ffprobeErr">
  <h3>Bummer</h3>
  <p>
    The analyzer returned the following error:
  </p>
  <p>
    {{ffprobeErr}}
  </p>
</div>

<div>
  <div class=""  [hidden]="!headBlackStarted">
    <p>black detection started on video head...</p>
    <h1>progress {{blackProgressHead}}</h1>
    <progress class="progress" value="{{blackProgressHead}}" max="1">0%</progress>
  </div>

  <div class="" [hidden]="!headBlackDetection">
    <h4>black detected in file head</h4>
    <ul>
      <li *ngFor="#item of headBlackDetection">
        Start: {{item.start}} | End: {{item.end}} | Duration: {{item.duration}} seconds
      </li>
    </ul>
  </div>
  <div class=""  [hidden]="!tailBlackStarted">
    <p>black detection started on video tail...</p>
    <h1>progress {{blackProgressTail}}</h1>
    <progress class="progress" value="{{blackProgressTail}}" max="1">0%</progress>
  </div>

  <div class="" [hidden]="!tailBlackDetection">
    <h4>black detected in file tail</h4>
    <ul>
      <li *ngFor="#item of tailBlackDetection">
        Start: {{item.start}} | End: {{item.end}} | Duration: {{item.duration}} seconds
      </li>
    </ul>
  </div>

  <div class=""  [hidden]="!monoDetectStarted">
    <p>mono detection started on thee audio segments...</p>
    <!-- <h1>progress {{blackProgressTail}}</h1> -->
    <!-- <progress class="progress" value="{{blackProgressTail}}" max="1">0%</progress> -->
  </div>

  <div class="">
    i am here god
    <h2>detections arrray: {{monoDetections}}</h2>
    <ul>
      <li *ngFor="#item of monoDetections; #index = index">
        <h3>segment {{index}} mono: {{item.isMono}}</h3>
      </li>
    </ul>
  </div>
</div>

<!-- {{format | json}} -->
<div class="col-xs-6" [hidden]="!format">
  <ul class="list-group">
    <li class="list-group-item">
      <h4 class="list-group-item-heading">format</h4>
    </li>

    <li class="list-group-item" *ngFor="#item of format">
      <span class="col-xs-5"><b>{{item.key}}</b></span>
      <span>{{item.value}}</span>
    </li>
  </ul>
</div>

<div class="col-xs-6" [hidden]="!formatTags">
  <ul class="list-group">
    <li class="list-group-item">
      <h4 class="list-group-item-heading">format tags</h4>
    </li>

    <li class="list-group-item" *ngFor="#item of formatTags">
      <span class="col-xs-5"><b>{{item.key}}</b></span>
      <span>{{item.value}}</span>
    </li>
  </ul>
</div>

<div class="clearfix"></div>
<br>
<br>
<div class="col-xs-6" [hidden]="!streams">
  <!-- <h3>{{streams.length}} streams</h3> -->
  <ul class="list-group" *ngFor="#stream of streams">
    <li class="list-group-item">
      <h4 class="list-group-item-heading">stream {{stream[0].index}}</h4>
    </li>

    <li class="list-group-item" *ngFor="#item of stream">
      <span class="col-xs-5"><b>{{item.key}}</b></span>
      <span>{{item.value}}</span>
    </li>
  </ul>
</div>
