<br>
<h1>Media Analysis</h1>

<h2>please choose a media file</h2>
<br>

<div class="ma-upload__input">
  <input type="file" (change)="changeListener($event)" />
</div>
<br>
<div class="card alert-danger" *ngIf="ffprobeErr">
  <h3>Bummer</h3>
  <p>
    The analyzer returned the following error:
  </p>
  <p>
    {{ffprobeErr}}
  </p>
</div>

<div>
  <div class=""  *ngIf="headBlackStarted">
    <p>black detection started on video head...</p>
    <h1>progress {{blackProgressHead}}</h1>
    <progress class="progress" value="{{blackProgressHead}}" max="1">0%</progress>
  </div>

  <div class="" *ngIf="headBlackDetection">
    <h4>black detected in file head</h4>
    <ul>
      <li *ngFor="#item of headBlackDetection">

        Start: {{item.start}} | End: {{item.end}} | Duration: {{item.duration}} seconds
      </li>
    </ul>
  </div>
  <p *ngIf="tailBlackStarted">video black detection started on tail. this is the super-slow version...</p>
  <div class="" *ngIf="tailBlackDetection">
    <h4>black detected in file tail</h4>
    <ul>
      <li *ngFor="#item of tailBlackDetection">
        Start: {{item.start}} | End: {{item.end}} | Duration: {{item.duration}} seconds
      </li>
    </ul>
  </div>
</div>

<div class="col-xs-6" *ngIf="format">
  <ul class="list-group">
    <li class="list-group-item">
      <h4 class="list-group-item-heading">format</h4>
    </li>

    <li class="list-group-item" *ngFor="#item of format">
      <span class="col-xs-5"><b>{{item.key}}</b></span>
      <span>{{item.value}}</span>
    </li>
  </ul>
</div>

<div class="col-xs-6" *ngIf="formatTags">
  <ul class="list-group">
    <li class="list-group-item">
      <h4 class="list-group-item-heading">format tags</h4>
    </li>

    <li class="list-group-item" *ngFor="#item of formatTags">
      <span class="col-xs-5"><b>{{item.key}}</b></span>
      <span>{{item.value}}</span>
    </li>
  </ul>
</div>

<div class="clearfix"></div>
<br>
<br>
<div class="col-xs-6" *ngIf="streams">
  <h3>{{streams.length}} streams</h3>
  <ul class="list-group" *ngFor="#stream of streams">
    <li class="list-group-item">
      <h4 class="list-group-item-heading">stream {{stream[0].index}}</h4>
    </li>

    <li class="list-group-item" *ngFor="#item of stream">
      <span class="col-xs-5"><b>{{item.key}}</b></span>
      <span>{{item.value}}</span>
    </li>
  </ul>
</div>
